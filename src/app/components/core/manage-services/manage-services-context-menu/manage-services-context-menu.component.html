<div id="dropdown" class="dropdown is-left is-hoverable">
  <div class="dropdown-trigger pl-3">
    <a class="button is-small context-menu" aria-haspopup="true" aria-controls="dropdown-menu">
      <span class="icon mt-3">
        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-600"></i>
      </span>
    </a>
  </div>
  <div class="dropdown-menu" id="dropdown-menu3" role="menu">
    <div class="dropdown-content">
      <a *ngIf="service?.added" class="dropdown-item" (click)="viewLogs(service?.name)">
        <span>View Logs</span>
      </a>
      <a *ngIf="sharedService.checkAuth() && service?.added" class="dropdown-item"
        (click)="openModal('confirmation-dialog')">
        <span>{{ ["shutdown", "disabled"].includes(service.state) ? "Enable" : "Disable" }}</span>
      </a>
      <a *ngIf="sharedService.checkAuth()" class="dropdown-item"
        (click)="openModal('delete-confirmation-dialog')">
        <span>Delete</span>
      </a>
    </div>
  </div>
</div>
<app-confirmation-dialog id="delete-confirmation-dialog">
  <header class="modal-card-head">
    <p class="modal-card-title is-size-6">Delete</p>
    <button type="button" class="delete" aria-label="close" (click)="closeModal('delete-confirmation-dialog')"></button>
  </header>
  <section class="modal-card-body">
    Deleting {{service?.name}} service can not be undone. Continue?
  </section>
  <footer class="modal-card-foot">
    <button type="button" class="button is-small" (click)="closeModal('delete-confirmation-dialog')">Cancel</button>
    <button type="button" class="button is-small is-danger" (click)="deleteService()" [appDisableUntilResponse]="reenableButton">Delete</button>
  </footer>
</app-confirmation-dialog>
<app-confirmation-dialog id="confirmation-dialog">
  <header class="modal-card-head">
    <p class="modal-card-title is-size-6">{{ ["shutdown", "disabled"].includes(service?.state) ? "Enable" : "Disable" }}</p>
    <button type="button" class="delete" aria-label="close" (click)="closeModal('confirmation-dialog')"></button>
  </header>
  <section class="modal-card-body">
    Are you sure, You want to {{ ["shutdown", "disabled"].includes(service?.state) ? "enable" : "disable" }} the service {{service?.name}}?
  </section>
  <footer class="modal-card-foot">
    <button type="button" class="button is-small" (click)="closeModal('confirmation-dialog')">Cancel</button>
    <button type="button" class="button is-small" [ngClass]="{'is-info': ['shutdown', 'disabled'].includes(service?.state), 'is-danger': !['shutdown', 'disabled'].includes(service?.state)}" (click)="stateUpdate()" [appDisableUntilResponse]="reenableButton">{{ ["shutdown", "disabled"].includes(service?.state) ? "Enable" : "Disable" }}</button>
  </footer>
</app-confirmation-dialog>
